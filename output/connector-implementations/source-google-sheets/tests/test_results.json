{
    "status": "passed",
    "passed": true,
    "tests_run": 81,
    "tests_passed": 81,
    "tests_failed": 0,
    "syntax_errors": [],
    "import_errors": [],
    "runtime_errors": [],
    "test_details": [
        {"file": "test_config.py", "tests_passed": 27, "tests_failed": 0, "description": "Configuration validation tests"},
        {"file": "test_connection.py", "tests_passed": 12, "tests_failed": 0, "description": "Connection check tests"},
        {"file": "test_discovery.py", "tests_passed": 11, "tests_failed": 0, "description": "Schema discovery tests"},
        {"file": "test_imports.py", "tests_passed": 9, "tests_failed": 0, "description": "Import and module validation tests"},
        {"file": "test_read.py", "tests_passed": 14, "tests_failed": 0, "description": "Data reading tests"},
        {"file": "test_syntax.py", "tests_passed": 8, "tests_failed": 0, "description": "Syntax validation tests"}
    ],
    "fixes_applied": [
        {
            "issue": "Mock patches at wrong module path",
            "description": "Changed patch paths from 'google.oauth2.service_account.Credentials.from_service_account_info' and 'googleapiclient.discovery.build' to 'src.auth.service_account.Credentials.from_service_account_info' and 'src.client.build' respectively. Patches must be applied where the target is used, not where it's defined.",
            "files_modified": ["conftest.py", "test_connection.py", "test_discovery.py", "test_read.py"],
            "impact": "Fixed all 21 tests that were failing with 'cannot unpack non-iterable Mock object'"
        },
        {
            "issue": "Incorrect mock chain setup for googleapiclient",
            "description": "Changed mock setup from 'mock_service.spreadsheets.return_value.get.return_value.execute.return_value' to proper chained method calls using explicit MagicMock assignments: 'mock_service.spreadsheets = MagicMock(return_value=mock_spreadsheets)', then 'mock_spreadsheets.get = MagicMock(return_value=mock_get_request)', etc. Each method in the chain returns a MagicMock whose method returns the next MagicMock.",
            "files_modified": ["conftest.py", "test_connection.py", "test_discovery.py", "test_read.py"],
            "impact": "Fixed the mock chain to properly simulate the Google Sheets API service object structure"
        },
        {
            "issue": "Missing universe_domain attribute on mock credentials",
            "description": "Added 'mock_credentials.universe_domain = \"googleapis.com\"' to all credential mocks to satisfy validation in google-api-python-client >= 2.100.0",
            "files_modified": ["conftest.py", "test_connection.py", "test_discovery.py", "test_read.py"],
            "impact": "Prevents UniverseMismatchError during API service initialization"
        }
    ],
    "recommendations": [
        "Consider creating a shared helper function for setting up the Google Sheets API mock to reduce code duplication across test files",
        "The warning about 'schema' shadowing BaseModel attribute is benign but could be addressed by renaming the field to something like 'json_schema'"
    ],
    "logs": "============================= test session starts ==============================\nplatform darwin -- Python 3.13.7, pytest-9.0.1, pluggy-1.6.0\ncollected 81 items\n\n81 passed, 1 warning in 0.25s"
}
